{% extends 'core/base.html' %}
{% load static %}

{% block title %}Privacy - DisasterBridge{% endblock %}

{% block content %}


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Privacy Policy - DisasterBridge</title>
  
  <!-- Load Inter Font for a modern, clean look -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <!-- Load Bootstrap Icons for social media in footer -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">

  <style>
    /* --- THEME COLORS & VARIABLES --- */
    :root {
      --db-accent-red: #e63946; /* Primary Red */
      --db-darker-red: #c0313d; /* Hover/Active Red */
      --db-brighter-red-hover: #ff4d4d; /* Specific hover color */
      --db-page-bg: #ffecec; /* Very Light Pink */
      --db-card-bg: white;
      --db-text-dark: #1f2937; /* Dark Text Color */
      --db-text-medium: #6c7a89;
      --db-box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
      --db-border-radius: 8px;
    }

    body {
      margin: 0;
      font-family: 'Inter', Arial, sans-serif;
      background: var(--db-page-bg);
      color: var(--db-text-dark);
      line-height: 1.6;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .container-lg {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
    }
    
    h1, h2, h3, h4 {
        color: var(--db-text-dark);
        font-weight: 700;
    }
    
    /* --- NAVBAR STYLES (Copied from home.html) --- */
    nav {
      background: var(--db-page-bg); 
      padding: 15px 20px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); 
      position: sticky;
      top: 0;
      z-index: 100;
      display: flex;
      justify-content: center;
    }

    .navbar-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
        max-width: 1200px;
    }

    /* Logo Styling */
    .logo {
      display: flex;
      align-items: center;
      font-size: 1.5rem; 
      color: var(--db-accent-red);
      text-decoration: none;
      font-weight: 700;
    }
    
    .logo img {
      margin-right: 10px; 
      display: block; 
    }

    .logo-disaster {
        font-weight: 900;
        color: var(--db-accent-red);
    }
    .logo-bridge {
        font-weight: 500;
        color: var(--db-accent-red);
    }


    /* Nav Link Styling */
    .nav-links-container {
      display: flex;
      align-items: center;
    }
    .nav-link {
        text-decoration: none;
        color: var(--db-text-dark) !important;
        font-weight: 700;
        text-transform: uppercase;
        font-size: 0.95rem;
        margin: 0 12px;
        padding: 8px 0;
        border-bottom: 2px solid transparent;
        transition: color 0.2s, border-bottom 0.2s;
    }

    .nav-link-active, .nav-link-active:hover {
        color: var(--db-accent-red) !important;
        border-bottom: 2px solid var(--db-accent-red);
    }
    
    .nav-link:hover {
        color: var(--db-brighter-red-hover) !important;
        border-bottom: 2px solid var(--db-brighter-red-hover);
    }

    /* Login/Logout Button Styling */
    .btn-login {
        background-color: var(--db-accent-red);
        color: white !important;
        border-radius: 8px;
        padding: 8px 18px;
        font-weight: 700;
        border: none;
        transition: background-color 0.2s, transform 0.2s;
        text-decoration: none;
        display: inline-block;
        font-size: 0.875rem;
        margin-left: 12px;
        cursor: pointer;
    }
    .btn-login:hover {
        background-color: var(--db-darker-red);
        color: white !important;
        transform: none;
    }

    /* --- PAGE-SPECIFIC STYLES: POLICY CONTENT --- */
    .policy-content {
        background: var(--db-card-bg);
        padding: 40px;
        margin: 30px auto;
        border-radius: var(--db-border-radius);
        box-shadow: var(--db-box-shadow);
        max-width: 900px;
        border-top: 5px solid var(--db-accent-red);
    }

    .policy-content h1 {
        font-size: 2.5rem;
        font-weight: 900;
        text-align: center;
        color: var(--db-accent-red);
        margin-bottom: 5px;
    }

    .policy-content h2 {
        font-size: 1.75rem;
        color: var(--db-text-dark);
        margin-top: 30px;
        padding-bottom: 5px;
        border-bottom: 2px solid var(--db-page-bg);
    }

    .policy-content p, .policy-content ul {
        font-size: 1rem;
        color: var(--db-text-dark);
        margin-bottom: 15px;
    }

    .policy-content ul {
        list-style-type: disc;
        padding-left: 25px;
    }
    
    .policy-content li {
        margin-bottom: 8px;
        color: var(--db-text-medium);
    }

    /* --- FOOTER STYLES (Copied from home.html) --- */
    footer {
        background: var(--db-page-bg);
        color: var(--db-text-dark);
        text-align: center;
        padding: 2rem 20px 1rem; 
        font-size: 0.9rem;
        margin-top: auto; /* Push footer to the bottom */
        border-top: 1px solid rgba(0, 0, 0, 0.05);
    }
    footer p {
      margin: 5px 0;
      font-size: 0.8rem;
    }
    footer a {
      color: var(--db-accent-red);
      text-decoration: none;
      margin: 0 8px;
      font-weight: 700;
      transition: color 0.2s;
    }
    .social-icon-link {
        font-size: 1.2rem;
        margin: 0 10px;
    }
    footer a:hover {
      color: var(--db-brighter-red-hover); 
    }
    footer p:last-child {
        margin-top: 15px;
    }
    
    /* --- Mobile Responsiveness --- */
    @media (max-width: 768px) {
      nav {
        padding: 12px 15px;
      }
      .nav-links-container {
        display: none;
      }
      .logo {
          font-size: 1.2rem; 
      }
      .logo img {
          max-height: 32px !important;
          height: auto;
          margin-right: 6px; 
      }
      .policy-content {
          padding: 20px;
      }
      .policy-content h1 {
          font-size: 2rem;
      }
      .policy-content h2 {
          font-size: 1.5rem;
      }
    }
  </style>
</head>
<body>
<!--  &lt;!&ndash; Navbar &ndash;&gt;-->
<!--  <nav>-->
<!--    <div class="navbar-content">-->
<!--        &lt;!&ndash; Logo link &ndash;&gt;-->
<!--        <a class="logo" href="/">-->
<!--            <img src="{% static 'core/images/logo.png' %}"-->
<!--                 alt="DisasterBridge Logo"-->
<!--                 onerror="this.onerror=null; this.src='https://placehold.co/60x60/e63946/ffffff?text=DB';"-->
<!--                 style="max-height: 60px; width: auto;">-->
<!--            <span class="logo-disaster">Disaster</span><span class="logo-bridge">Bridge</span>-->
<!--        </a>-->

<!--        &lt;!&ndash; Links container &ndash;&gt;-->
<!--        <div class="nav-links-container">-->
<!--            <a href="/" class="nav-link">HOME</a>-->
<!--            <a href="/signup/" class="nav-link" id="request-help-link">REQUEST HELP</a>-->
<!--            <a href="/donationinfo/" class="nav-link">DONATE</a>-->
<!--            <a href="/updates/" class="nav-link">UPDATES</a>-->
<!--            <a href="/login/" class="btn-login" id="login-logout-btn">SIGN IN/ LOGIN</a>-->
<!--        </div>-->
<!--    </div>-->
<!--  </nav>-->
  
  <div class="container-lg">
      <!-- Policy Content Section -->
      <section class="policy-content">
        <h1>Privacy Policy</h1>
        <p class="text-center" style="color: var(--db-text-medium); font-style: italic;">Effective Date: October 4, 2025</p>

        <p>This Privacy Policy describes how DisasterBridge ("we," "us," or "our") collects, uses, and shares your personal information when you use our web application, which connects victims of disasters with volunteers and donors.</p>

        <h2>1. Information We Collect</h2>
        <p>We collect information necessary to facilitate disaster relief efforts and secure the platform. This includes:</p>
        
        <h3>1.1. Personal Identifiable Information (PII)</h3>
        <ul>
            <li><strong>Victims:</strong> Full name, contact information (phone, email), specific location (address, coordinates) where aid is needed, and detailed description of needs (e.g., medical, food, shelter).</li>
            <li><strong>Volunteers:</strong> Full name, contact information, background check information (if applicable), skills, and current geographical area of operation.</li>
            <li><strong>Donors:</strong> Full name, contact information, donation history, and financial transaction details (collected securely by third-party payment processors, we do not store full credit card numbers).</li>
        </ul>

        <h3>1.2. Non-Personal Information</h3>
        <ul>
            <li><strong>Usage Data:</strong> Information about how you access and use the service (e.g., log data, device information, access times).</li>
            <li><strong>Cookies and Tracking:</strong> We use cookies and similar technologies for authentication, session management, and analyzing usage patterns.</li>
        </ul>

        <h2>2. How We Use Your Information</h2>
        <p>Your information is used strictly to fulfill the mission of DisasterBridge:</p>
        <ul>
            <li>To **Connect** victims with the nearest available volunteers and resources.</li>
            <li>To **Verify** the identity and legitimacy of users (victims, volunteers, donors) to ensure trust and safety.</li>
            <li>To **Communicate** updates, request statuses, and coordination details regarding aid delivery.</li>
            <li>To **Improve** our services, platform security, and disaster response efficiency.</li>
            <li>To **Administer** donations and issue receipts.</li>
        </ul>

        <h2>3. How We Share Your Information</h2>
        <p>We only share the minimum necessary information to facilitate aid:</p>
        <ul>
            <li>**Between Matched Users:** If you are a victim, your location and needs are shared with the assigned volunteer. If you are a volunteer, your contact information may be shared with the victim and donor for coordination.</li>
            <li>**For Legal Purposes:** We may disclose your information if required to do so by law or in the good faith belief that such action is necessary to comply with legal obligations, protect our rights, or ensure public safety.</li>
            <li>**With Service Providers:** We use trusted third-party services (e.g., Firebase for data storage, payment processors for donations) that are contractually bound to keep your information secure.</li>
        </ul>
        <p style="color: var(--db-accent-red); font-weight: 700;">We will **never** sell your personal data to third parties.</p>

        <h2>4. Data Security</h2>
        <p>We employ administrative, technical, and physical safeguards to protect your information. All sensitive data, especially location and needs descriptions, is stored securely using Firebase Firestore and transmitted using SSL/TLS encryption. However, please remember that no method of transmission over the Internet is 100% secure.</p>

        <h2>5. Your Rights and Choices</h2>
        <ul>
            <li>**Access and Update:** You can access and update your account information directly through your user profile settings.</li>
            <li>**Opt-Out:** You can opt out of non-essential communications (like newsletters) at any time.</li>
            <li>**Data Deletion:** If you wish to deactivate your account and have your data removed, please contact us. Note that we may retain certain data for necessary legal records (e.g., donation receipts).</li>
        </ul>

        <h2>6. Changes to This Policy</h2>
        <p>We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new policy on this page and updating the "Effective Date." We encourage you to review this policy periodically.</p>

        <h2>7. Contact Us</h2>
        <p>If you have any questions about this Privacy Policy, please contact us at:</p>
        <p><strong>DisasterBridge Administration</strong><br>
        Email: <a href="mailto:privacy@disasterbridge.org" style="color: var(--db-accent-red);">privacy@disasterbridge.org</a><br>
        Website: <a href="{% url 'contact' %}" style="color: var(--db-accent-red);">Contact Information Page</a></p>

      </section>
  </div>

<!--  &lt;!&ndash; Footer &ndash;&gt;-->
<!--  <footer>-->
<!--    <div class="container-lg">-->
<!--        &lt;!&ndash; Navigation Buttons &ndash;&gt;-->
<!--        <div class="mb-3">-->
<!--            <a href="{% url 'about' %}" class="footer-btn">ABOUT</a> |-->
<!--            <a href="{% url 'contact' %}" class="footer-btn">CONTACT INFO</a> |-->
<!--            <a href="{% url 'faq' %}" class="footer-btn">HELP/FAQ</a>-->
<!--        </div>-->

<!--        &lt;!&ndash; Social Media Buttons &ndash;&gt;-->
<!--        <div class="mb-3">-->
<!--            <a href="https://facebook.com/disasterbridge" target="_blank" class="social-link social-icon-link" aria-label="Facebook"><i class="bi bi-facebook"></i></a>-->
<!--            <a href="https://instagram.com/disasterbridge" target="_blank" class="social-link social-icon-link" aria-label="Instagram"><i class="bi bi-instagram"></i></a>-->
<!--            <a href="https://twitter.com/disasterbridge" target="_blank" class="social-link social-icon-link" aria-label="Twitter"><i class="bi bi-twitter"></i></a>-->
<!--            <a href="https://linkedin.com/company/disasterbridge" target="_blank" class="social-link social-icon-link" aria-label="LinkedIn"><i class="bi bi-linkedin"></i></a>-->
<!--        </div>-->

<!--        &lt;!&ndash; Legal &ndash;&gt;-->
<!--        <p class="text-muted small mb-0" style="color: var(&#45;&#45;db-text-medium);">-->
<!--            &copy; 2025 DisasterBridge. All rights reserved. <br>-->
<!--            <a href="{% url 'privacy' %}" class="text-danger">Privacy Policy</a> | <a href="{% url 'terms' %}" class="text-danger">Terms of Service</a>-->
<!--        </p>-->
<!--    </div>-->
<!--  </footer>-->

  <!-- Firebase SDKs are included for completeness, even if not strictly needed on this static page -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js";
    import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-auth.js";

    // --- Firebase Initialization and Auth Logic ---
    const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
    const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
    const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
    
    if (Object.keys(firebaseConfig).length > 0) {
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // Initial sign-in attempt
        if (initialAuthToken) {
            signInWithCustomToken(auth, initialAuthToken).catch(error => {
                console.error("Error signing in with custom token:", error);
                signInAnonymously(auth).catch(anonError => console.error("Error signing in anonymously:", anonError));
            });
        } else {
            signInAnonymously(auth).catch(error => console.error("Error signing in anonymously:", error));
        }

        // UI elements
        const loginLogoutButton = document.getElementById('login-logout-btn');
        const helpLink = document.getElementById('request-help-link');

        function handleLogout(event) {
            event.preventDefault();
            signOut(auth).then(() => {
                console.log('User signed out.');
            }).catch((error) => {
                console.error('Logout error:', error);
            });
        }

        onAuthStateChanged(auth, (user) => {
            if (user) {
                // User is Logged In
                loginLogoutButton.textContent = 'LOGOUT';
                loginLogoutButton.href = '#';
                loginLogoutButton.onclick = handleLogout;
                
                helpLink.textContent = 'MY REQUESTS';
                helpLink.href = '/my-requests';
            } else {
                // User is Logged Out
                loginLogoutButton.textContent = 'SIGN IN/ LOGIN';
                loginLogoutButton.href = '/login/';
                loginLogoutButton.onclick = null;
                
                helpLink.textContent = 'REQUEST HELP';
                helpLink.href = '/signup/';
            }
        });
    } else {
        console.warn("Firebase configuration is not available. Auth functionality will not be active.");
    }
  </script>
</body>
</html>
{% endblock %}